(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{118:function(e,_,t){"use strict";t.r(_);var a=t(0),r=t.n(a),c=t(703);_.default=function(){return r.a.createElement(c.a,null)}},246:function(e,_,t){"use strict";var a=t(253),r=Object(a.a)("data");_.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(e)}},257:function(e,_,t){"use strict";var a;t.d(_,"a",(function(){return a})),function(e){e.Bar="bar"}(a||(a={}))},267:function(e,_,t){"use strict";var a=t(253),r=Object(a.a)("charts");_.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(e)}},703:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),chartist__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(256),chartist__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(chartist__WEBPACK_IMPORTED_MODULE_3__),_material_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(225),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(240),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(730),_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(724),_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(735),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(736),_material_ui_lab_Alert__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(733),_material_ui_lab_Autocomplete__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(732),_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(257),_hooks_useChartStore__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(267),_hooks_useDataStore__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(246),_components_ChartDialog__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(708),_constants__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(705),chartist_dist_chartist_css__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(201),chartist_dist_chartist_css__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(chartist_dist_chartist_css__WEBPACK_IMPORTED_MODULE_17__),chartist_plugin_tooltips_updated_dist_chartist_plugin_tooltip_css__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(202),chartist_plugin_tooltips_updated_dist_chartist_plugin_tooltip_css__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(chartist_plugin_tooltips_updated_dist_chartist_plugin_tooltip_css__WEBPACK_IMPORTED_MODULE_18__),useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.a)((function(e){return Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a)({root:{flexGrow:1},chartArea:{marginTop:"20px"}})})),ChartViewer=function ChartViewer(){var classes=useStyles(),_useDataStore=Object(_hooks_useDataStore__WEBPACK_IMPORTED_MODULE_14__.a)(),_useDataStore2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useDataStore,1),dataStore=_useDataStore2[0],_useChartStore=Object(_hooks_useChartStore__WEBPACK_IMPORTED_MODULE_13__.a)({}),_useChartStore2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useChartStore,2),chartStore=_useChartStore2[0],setChartStore=_useChartStore2[1],_useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState,2),editChartKey=_useState2[0],setEditChartKey=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3,2),selectedChartKey=_useState4[0],setSelectedChartKey=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5,2),chartSelectDisabled=_useState6[0],setChartSelectDisabled=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState8=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7,2),openSnackbar=_useState8[0],setOpenSnackbar=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState10=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState9,2),openAddChartDialog=_useState10[0],setOpenChartDialog=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),_useState12=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState11,2),alertMessage=_useState12[0],setAlertMessage=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)("success"),_useState14=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState13,2),alertSeverity=_useState14[0],setAlertSeverity=_useState14[1],handleCloseSnackbar=function(e,_){"clickaway"!==_&&setOpenSnackbar(!1)},handleChartChange=function(e,_){setSelectedChartKey(_)},handleAddChart=function(){setEditChartKey(null),setOpenChartDialog(!0)},handleCloseChartDialog=function(){setOpenChartDialog(!1)},handleOnSaveChart=function(e){setEditChartKey(null),setSelectedChartKey(e),setOpenChartDialog(!1),setAlertSeverity("success"),setAlertMessage("Chart saved!"),setOpenSnackbar(!0)},handleEditSelectedChart=function(){setEditChartKey(selectedChartKey),setOpenChartDialog(!0)},handleDeleteSelectedChart=function(){delete chartStore[selectedChartKey],setChartStore(chartStore),setChartSelectDisabled(0==Object.keys(chartStore).length),setSelectedChartKey(null),setAlertSeverity("success"),setAlertMessage("Chart deleted!"),setOpenSnackbar(!0)},handleLocalStorageModifiedExternally=function(){setSelectedChartKey(null),setEditChartKey(null),setAlertSeverity("error"),setAlertMessage("Local storage data modified externally!"),setOpenSnackbar(!0)},createBarChart=function createBarChart(){if(chartStore){var chart=chartStore[selectedChartKey];if(chart&&dataStore){document.getElementById("chart").innerHTML="";var output={data:null,options:null};try{var _chart=chartStore[selectedChartKey],generateOutput=eval(_chart.code);output=generateOutput(dataStore,chartist__WEBPACK_IMPORTED_MODULE_3___default.a)}catch(e){return setAlertSeverity("error"),setAlertMessage("Unable to render chart!"),void setOpenSnackbar(!0)}output&&output.data&&output.options&&new chartist__WEBPACK_IMPORTED_MODULE_3___default.a.Bar("#chart",output.data,output.options).on("draw",(function(e){"bar"===e.type&&e.element.attr({style:"stroke-width: 30px"})}))}}};return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){__webpack_require__(706),__webpack_require__(707)})),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){if(selectedChartKey){var e=chartStore[selectedChartKey];if(e)switch(e.type){case _types__WEBPACK_IMPORTED_MODULE_12__.a.Bar:createBarChart()}}}),[selectedChartKey]),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){chartStore||handleLocalStorageModifiedExternally(),chartStore&&Object.keys(chartStore).length>0?setChartSelectDisabled(!1):setChartSelectDisabled(!0)}),[chartStore]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_8__.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:6e3,"data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.g,onClose:handleCloseSnackbar,open:openSnackbar},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_lab_Alert__WEBPACK_IMPORTED_MODULE_10__.a,{elevation:6,onClose:handleCloseSnackbar,severity:alertSeverity,variant:"filled"},alertMessage)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_ChartDialog__WEBPACK_IMPORTED_MODULE_15__.a,{chart:chartStore&&editChartKey?chartStore[editChartKey]:null,"data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.c,onClose:handleCloseChartDialog,onSave:handleOnSaveChart,open:openAddChartDialog}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{alignItems:"center",container:!0,direction:"row",justify:"flex-start",spacing:3},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{item:!0,xs:8},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_lab_Autocomplete__WEBPACK_IMPORTED_MODULE_11__.a,{"data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.f,defaultValue:selectedChartKey,disabled:chartSelectDisabled,disableClearable:!0,fullWidth:!0,id:"charts",getOptionLabel:function(e){return chartStore[e].name},ListboxProps:{"data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.e},onChange:handleChartChange,options:chartStore?Object.keys(chartStore).map((function(e){return e})):[],renderInput:function(e){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e,{label:chartSelectDisabled?"Add a chart --\x3e":"Charts",variant:"outlined"}))},value:selectedChartKey})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{item:!0,xs:4},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.a,{color:"primary","data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.a,onClick:handleAddChart,size:"large",variant:"contained"},"Add Chart"))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classes.chartArea},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{alignItems:"center",container:!0,direction:"row",justify:"space-around",spacing:3},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{item:!0,xs:1},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.a,{color:"primary","data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.d,disabled:!selectedChartKey,onClick:handleEditSelectedChart,size:"large",variant:"contained"},"Edit")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{item:!0,xs:1},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.a,{color:"secondary","data-testid":_constants__WEBPACK_IMPORTED_MODULE_16__.b,disabled:!selectedChartKey,onClick:handleDeleteSelectedChart,size:"large",variant:"contained"},"Delete")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__.a,{item:!0,xs:12},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{id:"chart"})))))};__webpack_exports__.a=ChartViewer},705:function(e,_,t){"use strict";t.d(_,"a",(function(){return a})),t.d(_,"b",(function(){return r})),t.d(_,"c",(function(){return c})),t.d(_,"d",(function(){return n})),t.d(_,"e",(function(){return i})),t.d(_,"f",(function(){return l})),t.d(_,"g",(function(){return s}));var a="cv-add-object",r="cv-delete-object",c="cv-dialog",n="cv-edit-object",i="cv-select-list",l="cv-select",s="cv-snackbar"},708:function(e,_,t){"use strict";var a=t(50),r=t.n(a),c=t(42),n=t.n(c),i=t(24),l=t.n(i),s=t(116),o=t.n(s),E=t(0),u=t.n(E),d=t(734),O=t(225),D=t(240),M=t(730),P=t(721),h=t(729),C=t(723),p=t(722),b=t(727),A=t(724),m=t(739),S=t(731),f=t(736),K=t(250),T=t.n(K),B=(t(251),t(265),t(252),t(704),t(257)),L=t(267),I=B.a.Bar,W="(dataStore, Chartist) => {\n  return { data: null, options: null };\n};";function R(e,_){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);_&&(a=a.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),t.push.apply(t,a)}return t}function U(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{};_%2?R(Object(t),!0).forEach((function(_){n()(e,_,t[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(t,_))}))}return e}var y=Object(O.a)((function(e){return Object(D.a)({codeEditor:{border:"1px solid rgba(0,0,0,0.20)",borderRadius:"4px"}})}));_.a=function(e){var _=e.chart,t=e.open,a=e.onClose,c=e.onSave,i=o()(e,["chart","open","onClose","onSave"]),s=y(),O=Object(L.a)({}),D=l()(O,2),K=D[0],R=D[1],v=Object(E.useState)(""),g=l()(v,2),k=g[0],w=g[1],j=Object(E.useState)(I),x=l()(j,2),q=x[0],G=x[1],z=Object(E.useState)(W),N=l()(z,2),V=N[0],F=N[1],H=function(){w(""),G(I),F(W),a()};return Object(E.useEffect)((function(){_?(w(_.name),G(_.type),F(_.code)):(w(""),G(I),F(W))}),[_]),u.a.createElement(P.a,r()({},i,{"aria-labelledby":"form-dialog-title",fullWidth:!0,keepMounted:!0,maxWidth:"md",onClose:H,open:t}),u.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(d.a)();_&&(t=_.id);var a=U(U({},K),{},n()({},t,{id:t,type:q,name:k,code:V}));R(a),w(""),G(I),F(W),c(t)}},u.a.createElement(p.a,{id:"form-dialog-title"},_?"Edit":"Add"," Chart"),u.a.createElement(C.a,null,u.a.createElement(A.a,{alignItems:"center",container:!0,direction:"row",justify:"flex-start",spacing:3},u.a.createElement(A.a,{item:!0,xs:8},u.a.createElement(f.a,{"data-testid":"cd-key-input",id:"chartName",disabled:!!_,fullWidth:!0,label:"Name",onChange:function(e){w(e.target.value)},required:!0,value:k,variant:"outlined"})),u.a.createElement(A.a,{item:!0,xs:4},u.a.createElement(b.a,{variant:"outlined",fullWidth:!0},u.a.createElement(m.a,{htmlFor:"chartType"},"Type"),u.a.createElement(S.a,{"data-testid":"cd-type-input",inputProps:{name:"type",id:"chartType"},label:"Type",native:!0,onChange:function(e,_){G(_)},value:q},Object.values(B.a).map((function(e){return u.a.createElement("option",{key:e,value:e},e)})))))),u.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:3},u.a.createElement(A.a,{item:!0,xs:12},u.a.createElement("div",{"data-testid":"cd-value-input"},u.a.createElement(T.a,{className:s.codeEditor,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,fontSize:14,highlightActiveLine:!0,mode:"javascript",name:"chartCode",onChange:function(e,_){F(e)},placeholder:"Code to generate chart data and options",setOptions:{showLineNumbers:!0,tabSize:2},showPrintMargin:!1,showGutter:!0,theme:"textmate",width:"100%",wrapEnabled:!0,value:V}))))),u.a.createElement(h.a,null,u.a.createElement(M.a,{color:"primary","data-testid":"cd-cancel-button",onClick:H},"Cancel"),u.a.createElement(M.a,{color:"primary","data-testid":"cd-save-button",type:"submit",variant:"contained"},"Save"))))}}}]);